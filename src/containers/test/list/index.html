<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>js调用java</title>
</head>
<body>
<p>

</p>

<p>

</p>
<p>
    <input type="button" value="支付" onclick="onPay();"
    />
</p>
<p>
    <input type="button" value="登录" onclick="onLogin();"
    />
</p>
<p>
    <input type="button" value="注册" onclick="onRegister();"
    />
</p>

<p>
    <input type="button" value="用户信息" onclick="getUserInfo();"
    />
</p>

<p>
    <input type="file" value="打开文件"/>
</p>
</body>
<script>

    function onPay() {
        try {
            let payId = {
                appid: 'wxc4d47d3d98bad159',
                noncestr: '8241339728',
                package: 'Sign=WXPay',
                partnerid: '1401664002',
                prepayid: 'wx20170609154945ecc68978af0859874924',
                sign: '0CAAD12690DDFF3CA094914B85E25E14',
                timestamp: '1496994585'
            };

            var info = {actionName:'pay', payId, plat:'wechat'};
            var str = JSON.stringify(info);
            window.postMessage(str);
        } catch (e) {
        }
    }

    function onLogin() {
        //console.log("Browser::onLogin()");
        let params = {username: 'admin', passwd: '123456'};
        window.postMessage(JSON.stringify({action: 'onLogin', params}));
    }

    function onRegister() {
        //console.log("Browser::onLogin()");
        let params = {username: 'admin', passwd: '123456'};
        window.postMessage(JSON.stringify({action: 'onRegister', params}));
    }

    function getUserInfo() {
        //console.log("Browser::onLogin()");
        let params = {username: 'admin', passwd: '123456'};
        window.postMessage(JSON.stringify({action: 'getUserInfo', params}));
    }

    document.addEventListener('message', function (e) {
        console.log("Browser::message()"+JSON.stringify(e.data));
        document.getElementsByTagName('p')[0].innerHTML = 'Messages recieved from React Native: ';
        document.getElementsByTagName('p')[1].innerHTML = e.data;
    });
    /*document.getElementsByTagName('input')[0].addEventListener('click', function () {
     window.postMessage('getElementsByTagName');
     });*/

</script>
</html>
